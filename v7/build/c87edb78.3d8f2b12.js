(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{147:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return s})),n.d(t,"Highlight",(function(){return b})),n.d(t,"default",(function(){return l}));var a=n(2),r=n(10),o=(n(0),n(155)),i={id:"estimating-performance",title:"Esitmating emulators performance"},c={id:"estimating-performance",isDocsHomePage:!1,title:"Esitmating emulators performance",description:"Creating js-dos bundle",source:"@site/docs/estimating-performance.mdx",permalink:"/v7/build/docs/estimating-performance",editUrl:"https://github.com/caiiiycuk/js-dos/edit/gh-pages/v7/docs/estimating-performance.mdx",sidebar:"someSidebar",previous:{title:"Releases",permalink:"/v7/build/docs/releases"}},s=[{value:"Creating js-dos bundle",id:"creating-js-dos-bundle",children:[]},{value:"Performance testing",id:"performance-testing",children:[]}],b=function(e){var t=e.children,n=e.color;return Object(o.b)("span",{style:{backgroundColor:n,borderRadius:"2px",color:"#fff",padding:"0.2rem"}},t)},d={rightToc:s,Highlight:b};function l(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"creating-js-dos-bundle"},"Creating js-dos bundle"),Object(o.b)("p",null,"Please open in new tab our bundle generator ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://dos.zone/en/studio"}),"studio"),".\nClick on ",Object(o.b)("inlineCode",{parentName:"p"},"Browse")," button, and choose program archive. In this guide we use ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"../bundles/dhry2.zip"}),"Dhrystone 2 Test"),",\nread more below."),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"../img/bundle_guide_1.jpg",alt:"Browser button"}))),Object(o.b)("p",null,"Next, you need to select executable that will be runned when DOS emulator starts. Please select ",Object(o.b)("inlineCode",{parentName:"p"},"dhry_2.exe"),"."),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"../img/bundle_guide_2.jpg",alt:"Select executable"}))),Object(o.b)("p",null,"On next step you can change various of dosbox options, but usually defaults is pretty good. You can scroll down and press\n",Object(o.b)("inlineCode",{parentName:"p"},"create archive"),"."),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"../img/bundle_guide_3.jpg",alt:"Create archive"}))),Object(o.b)("p",null,"Finally, you can download ",Object(o.b)("inlineCode",{parentName:"p"},"js-dos bundle"),"."),Object(o.b)("p",null,Object(o.b)("img",Object(a.a)({parentName:"p"},{src:"../img/bundle_guide_4.jpg",alt:"Download archive"}))),Object(o.b)("h2",{id:"performance-testing"},"Performance testing"),Object(o.b)("p",null,"To measure performance we used variant of Dhrystone 2 Test originally taken from this ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://www.roylongbottom.org.uk/dhrystone%20results.htm"}),"page"),". Original version used ",Object(o.b)("inlineCode",{parentName:"p"},"clock()")," to calculate delta time. Which is good for real pc, but does not very accurate for dosbox emulator. When ",Object(o.b)("inlineCode",{parentName:"p"},"clock()")," call happened modified version send ",Object(o.b)("inlineCode",{parentName:"p"},"~>dtime")," marker which intercepted by test page and used to calculate delta time with ",Object(o.b)("inlineCode",{parentName:"p"},"performance.now()")," from browser. Source code of modified test is ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/caiiiycuk/js-dos/tree/6.22/programms/dhry2"}),"here"),"."),Object(o.b)("p",null,"Basically this test produce a lot of int operations and measure amount of operations (Dhrystones) produced per second. Output is a ",Object(o.b)("inlineCode",{parentName:"p"},"VAX MIPS RATING")," which is Drhystones per second divided by 1757 (is as DEC VAX 11/780 result)."),Object(o.b)("p",null,"To run this test we need import ",Object(o.b)("inlineCode",{parentName:"p"},"emulators.js")," and use our ",Object(o.b)("inlineCode",{parentName:"p"},"js-dos bundle")," to start test."),Object(o.b)("p",null,"You can write JSX and use React components within your Markdown thanks to ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://mdxjs.com/"}),"MDX"),"."),Object(o.b)(b,{color:"#25c2a0",mdxType:"Highlight"},"Docusaurus green")," and ",Object(o.b)(b,{color:"#1877F2",mdxType:"Highlight"},"Facebook blue")," are my favorite colors.",Object(o.b)("p",null,"I can write ",Object(o.b)("strong",{parentName:"p"},"Markdown")," alongside my ",Object(o.b)("em",{parentName:"p"},"JSX"),"!"))}l.isMDXComponent=!0}}]);